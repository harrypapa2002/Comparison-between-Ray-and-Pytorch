W0105 11:24:40.165000 4008 torch/distributed/run.py:793] 
W0105 11:24:40.165000 4008 torch/distributed/run.py:793] *****************************************
W0105 11:24:40.165000 4008 torch/distributed/run.py:793] Setting OMP_NUM_THREADS environment variable for each process to be 1 in default, to avoid your system being overloaded, please further tune the variable for optimal performance in your application as needed. 
W0105 11:24:40.165000 4008 torch/distributed/run.py:793] *****************************************
2025-01-05 11:24:50,644 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
2025-01-05 11:24:51,109 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
2025-01-05 11:24:51,233 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
2025-01-05 11:24:51,295 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
/home/ubuntu/.local/lib/python3.10/site-packages/torch_ppr/utils.py:227: UserWarning: Sparse CSR tensor support is in beta state. If you miss a functionality in the sparse tensor support, please submit a feature request to https://github.com/pytorch/pytorch/issues. (Triggered internally at ../aten/src/ATen/SparseCsrTensorImpl.cpp:53.)
  return torch.sparse.mm(adj, degree_inv)
/home/ubuntu/.local/lib/python3.10/site-packages/torch_ppr/utils.py:227: UserWarning: Sparse CSR tensor support is in beta state. If you miss a functionality in the sparse tensor support, please submit a feature request to https://github.com/pytorch/pytorch/issues. (Triggered internally at ../aten/src/ATen/SparseCsrTensorImpl.cpp:53.)
  return torch.sparse.mm(adj, degree_inv)
/home/ubuntu/.local/lib/python3.10/site-packages/torch_ppr/utils.py:227: UserWarning: Sparse CSR tensor support is in beta state. If you miss a functionality in the sparse tensor support, please submit a feature request to https://github.com/pytorch/pytorch/issues. (Triggered internally at ../aten/src/ATen/SparseCsrTensorImpl.cpp:53.)
  return torch.sparse.mm(adj, degree_inv)
/home/ubuntu/.local/lib/python3.10/site-packages/torch_ppr/utils.py:227: UserWarning: Sparse CSR tensor support is in beta state. If you miss a functionality in the sparse tensor support, please submit a feature request to https://github.com/pytorch/pytorch/issues. (Triggered internally at ../aten/src/ATen/SparseCsrTensorImpl.cpp:53.)
  return torch.sparse.mm(adj, degree_inv)
[rank2]: Traceback (most recent call last):
[rank2]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 196, in <module>
[rank2]:     distributed_pagerank(rank, world_size)
[rank2]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 179, in distributed_pagerank
[rank2]:     save_intermediate_results(global_results, i)
[rank2]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 80, in save_intermediate_results
[rank2]:     os.rename(temp_path, final_path)  
[rank2]: FileNotFoundError: [Errno 2] No such file or directory: '/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/intermediate_results/temp_result_chunk_0.json' -> '/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/intermediate_results/result_chunk_0.json'
[rank1]: Traceback (most recent call last):
[rank1]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 196, in <module>
[rank1]:     distributed_pagerank(rank, world_size)
[rank1]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 179, in distributed_pagerank
[rank1]:     save_intermediate_results(global_results, i)
[rank1]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 80, in save_intermediate_results
[rank1]:     os.rename(temp_path, final_path)  
[rank1]: FileNotFoundError: [Errno 2] No such file or directory: '/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/intermediate_results/temp_result_chunk_0.json' -> '/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/intermediate_results/result_chunk_0.json'
[rank0]: Traceback (most recent call last):
[rank0]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 196, in <module>
[rank0]:     distributed_pagerank(rank, world_size)
[rank0]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 179, in distributed_pagerank
[rank0]:     save_intermediate_results(global_results, i)
[rank0]:   File "/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py", line 80, in save_intermediate_results
[rank0]:     os.rename(temp_path, final_path)  
[rank0]: FileNotFoundError: [Errno 2] No such file or directory: '/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/intermediate_results/temp_result_chunk_0.json' -> '/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/intermediate_results/result_chunk_0.json'
W0105 11:25:13.116000 4008 torch/distributed/elastic/multiprocessing/api.py:897] Sending process 4014 closing signal SIGTERM
W0105 11:25:13.116000 4008 torch/distributed/elastic/multiprocessing/api.py:897] Sending process 4015 closing signal SIGTERM
W0105 11:25:13.117000 4008 torch/distributed/elastic/multiprocessing/api.py:897] Sending process 4017 closing signal SIGTERM
#
# A fatal error has been detected by the Java Runtime Environment:
#
#  SIGSEGV (0xb) at pc=0x00007f5419ca67fd, pid=4017, tid=4017
#
# JRE version: OpenJDK Runtime Environment (11.0.25+9) (build 11.0.25+9-post-Ubuntu-1ubuntu122.04)
# Java VM: OpenJDK 64-Bit Server VM (11.0.25+9-post-Ubuntu-1ubuntu122.04, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)
# Problematic frame:
# C  [libc.so.6+0x19d7fd]
#
# Core dump will be written. Default location: Core dumps may be processed with "/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E" (or dumping to /home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/core.4017)
#
# An error report file with more information is saved as:
# /home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/hs_err_pid4017.log
#
# If you would like to submit a bug report, please visit:
#   https://bugs.launchpad.net/ubuntu/+source/openjdk-lts
# The crash happened outside the Java Virtual Machine in native code.
# See problematic frame for where to report the bug.
#
E0105 11:25:16.961000 4008 torch/distributed/elastic/multiprocessing/api.py:869] failed (exitcode: 1) local_rank: 2 (pid: 4016) of binary: /usr/bin/python3
Traceback (most recent call last):
  File "/home/ubuntu/.local/bin/torchrun", line 8, in <module>
    sys.exit(main())
  File "/home/ubuntu/.local/lib/python3.10/site-packages/torch/distributed/elastic/multiprocessing/errors/__init__.py", line 355, in wrapper
    return f(*args, **kwargs)
  File "/home/ubuntu/.local/lib/python3.10/site-packages/torch/distributed/run.py", line 919, in main
    run(args)
  File "/home/ubuntu/.local/lib/python3.10/site-packages/torch/distributed/run.py", line 910, in run
    elastic_launch(
  File "/home/ubuntu/.local/lib/python3.10/site-packages/torch/distributed/launcher/api.py", line 138, in __call__
    return launch_agent(self._config, self._entrypoint, list(args))
  File "/home/ubuntu/.local/lib/python3.10/site-packages/torch/distributed/launcher/api.py", line 269, in launch_agent
    raise ChildFailedError(
torch.distributed.elastic.multiprocessing.errors.ChildFailedError: 
============================================================
/home/ubuntu/Comparison-between-Ray-and-Pytorch/PageRank/pagerank.py FAILED
------------------------------------------------------------
Failures:
  <NO_OTHER_FAILURES>
------------------------------------------------------------
Root Cause (first observed failure):
[0]:
  time      : 2025-01-05_11:25:13
  host      : namenode
  rank      : 2 (local_rank: 2)
  exitcode  : 1 (pid: 4016)
  error_file: <N/A>
  traceback : To enable traceback see: https://pytorch.org/docs/stable/elastic/errors.html
============================================================
